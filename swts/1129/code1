

tree.addTreeListener(new TreeListener() {
    @Override
    public void treeExpanded(TreeEvent e) {
        TreeItem item = (TreeItem) e.item;
        // í¼ì³ì§ˆ ë•Œ ì»¬ëŸ¼ í…ìŠ¤íŠ¸ ë³€ê²½
        item.setText(0, "Expanded: " + item.getText(0));
    }

    @Override
    public void treeCollapsed(TreeEvent e) {
        TreeItem item = (TreeItem) e.item;
        // ë‹«í ë•Œ ì»¬ëŸ¼ í…ìŠ¤íŠ¸ ë³€ê²½
        item.setText(0, "Collapsed: " + item.getText(0));
    }
});



treeViewer.getTree().addTreeListener(new TreeListener() {
    @Override
    public void treeExpanded(TreeEvent e) {
        TreeItem item = (TreeItem) e.item;
        item.setText(0, "Expanded: " + item.getText(0));
    }

    @Override
    public void treeCollapsed(TreeEvent e) {
        TreeItem item = (TreeItem) e.item;
        item.setText(0, "Collapsed: " + item.getText(0));
    }
});



treeViewer.setLabelProvider(new ColumnLabelProvider() {
    @Override
    public String getText(Object element) {
        // ë°ì´í„° ëª¨ë¸ ìƒíƒœì— ë”°ë¼ ì»¬ëŸ¼ í…ìŠ¤íŠ¸ ë°˜í™˜
        MyModel model = (MyModel) element;
        return model.isExpanded() ? "Expanded: " + model.getName() : "Collapsed: " + model.getName();
    }
});



treeViewer.getTree().addTreeListener(new TreeListener() {
    @Override
    public void treeExpanded(TreeEvent e) {
        TreeItem item = (TreeItem) e.item;
        MyModel model = (MyModel) item.getData();
        model.setExpanded(true);
        treeViewer.update(model, null); // UI ì—…ë°ì´íŠ¸
    }

    @Override
    public void treeCollapsed(TreeEvent e) {
        TreeItem item = (TreeItem) e.item;
        MyModel model = (MyModel) item.getData();
        model.setExpanded(false);
        treeViewer.update(model, null); // UI ì—…ë°ì´íŠ¸
    }
});


-- ìœ ë‹ˆì½”ë“œ 

1. ì—´ë¦°í´ë” : U+1F4C2
2. ë‹«íŒí´ë” : U+1F4C1

3. ë‹«íŒìƒíƒœ :  U+25B6
4. ì—´ë¦°ìƒíƒœ : U+25BC


ğŸ“‚ U+1F4C2: ì—´ë ¤ ìˆëŠ” í´ë”
ğŸ“ U+1F4C1: ë‹«íŒ í´ë”

íŠ¸ë¦¬ ë…¸ë“œì—ì„œ í”íˆ ì‚¬ìš©ë˜ëŠ” í™•ì¥/ì¶•ì†Œ ìƒíƒœ ê¸°í˜¸:

â–¶ U+25B6: ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ (ë‹«íŒ ìƒíƒœ)
â–¼ U+25BC: ì•„ë˜ìª½ í™”ì‚´í‘œ (ì—´ë¦° ìƒíƒœ)
â–² U+25B2: ìœ„ìª½ í™”ì‚´í‘œ
â–º U+25BA: ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ (ë‹¤ë¥¸ ìŠ¤íƒ€ì¼)
â—€ U+25C0: ì™¼ìª½ í™”ì‚´í‘œ

ì˜¤ë¦„ ì°¨ìˆœ 
ğŸ”¼ U+1F53C: ìœ„ìª½ ì‘ì€ ì‚¼ê°í˜•
â–² U+25B2: ìœ„ìª½ í° ì‚¼ê°í˜•
â¬† U+2B06: ìœ„ìª½ í™”ì‚´í‘œ
â‡§ U+21E7: ìœ„ìª½ êµµì€ í™”ì‚´í‘œ

ë‚´ë¦¼ ì°¨ìˆœ 

ğŸ”½ U+1F53D: ì•„ë˜ìª½ ì‘ì€ ì‚¼ê°í˜•
â–¼ U+25BC: ì•„ë˜ìª½ í° ì‚¼ê°í˜•
â¬‡ U+2B07: ì•„ë˜ìª½ í™”ì‚´í‘œ
â‡© U+21E9: ì•„ë˜ìª½ êµµì€ í™”ì‚´í‘œ



ğŸ”¼ A-Z (ì˜¤ë¦„ì°¨ìˆœ)
ğŸ”½ Z-A (ë‚´ë¦¼ì°¨ìˆœ)


treeViewer.setLabelProvider(new ColumnLabelProvider() {
    @Override
    public String getText(Object element) {
        MyModel model = (MyModel) element;
        return model.getName();
    }

    @Override
    public Image getImage(Object element) {
        if (isAscending) {
            return new Image(display, "ascending_icon.png"); // ì˜¤ë¦„ì°¨ìˆœ ì´ë¯¸ì§€
        } else {
            return new Image(display, "descending_icon.png"); // ë‚´ë¦¼ì°¨ìˆœ ì´ë¯¸ì§€
        }
    }
});


--


treeViewer.setLabelProvider(new CellLabelProvider() {
    @Override
    public void update(ViewerCell cell) {
        Object element = cell.getElement(); // ë°ì´í„° ëª¨ë¸ ê°ì²´
        TreeViewer viewer = (TreeViewer) cell.getViewer();

        // TreeViewerì—ì„œ í•´ë‹¹ ê°ì²´ì˜ í™•ì¥ ìƒíƒœ í™•ì¸
        boolean isExpanded = viewer.getExpandedState(element);

        // í™•ì¥ ìƒíƒœì— ë”°ë¼ í…ìŠ¤íŠ¸ ì„¤ì •
        if (isExpanded) {
            cell.setText("ğŸ“‚ " + element.toString()); // í™•ì¥ëœ ìƒíƒœ
        } else {
            cell.setText("ğŸ“ " + element.toString()); // ë‹«íŒ ìƒíƒœ
        }
    }
});



treeViewer.setLabelProvider(new CellLabelProvider() {
    @Override
    public void update(ViewerCell cell) {
        Object element = cell.getElement();
        Tree tree = treeViewer.getTree();

        // TreeItem ì§ì ‘ ì°¾ê¸°
        for (TreeItem item : tree.getItems()) {
            if (item.getData().equals(element)) {
                boolean isExpanded = item.getExpanded();
                cell.setText((isExpanded ? "ğŸ“‚ " : "ğŸ“ ") + element.toString());
                break;
            }
        }
    }
});


Map<Object, Boolean> expandedStateCache = new HashMap<>();

treeViewer.addTreeListener(new TreeViewerListener() {
    @Override
    public void treeExpanded(TreeExpansionEvent event) {
        expandedStateCache.put(event.getElement(), true);
    }

    @Override
    public void treeCollapsed(TreeExpansionEvent event) {
        expandedStateCache.put(event.getElement(), false);
    }
});

// update()ì—ì„œ ìºì‹œ ì‚¬ìš©
treeViewer.setLabelProvider(new CellLabelProvider() {
    @Override
    public void update(ViewerCell cell) {
        Object element = cell.getElement();
        boolean isExpanded = expandedStateCache.getOrDefault(element, false);
        cell.setText((isExpanded ? "ğŸ“‚ " : "ğŸ“ ") + element.toString());
    }
});


------------


public void expandToDepth(TreeViewer viewer, Object element, int currentDepth, int targetDepth) {
    if (currentDepth >= targetDepth) {
        return;
    }

    // í˜„ì¬ ìš”ì†Œë¥¼ í™•ì¥
    viewer.setExpandedState(element, true);

    // ìì‹ ìš”ì†Œ ìˆœíšŒ
    ITreeContentProvider contentProvider = (ITreeContentProvider) viewer.getContentProvider();
    Object[] children = contentProvider.getChildren(element);

    for (Object child : children) {
        expandToDepth(viewer, child, currentDepth + 1, targetDepth);
    }
}


int targetDepth = 2; // ëª©í‘œ ê¹Šì´
Object rootElement = treeViewer.getInput();
expandToDepth(treeViewer, rootElement, 0, targetDepth);


-----------


import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Tree;
import org.eclipse.swt.widgets.TreeItem;

public class TreeFocusExample {
    public static void main(String[] args) {
        Display display = new Display();
        Shell shell = new Shell(display);
        shell.setSize(400, 300);
        shell.setText("Tree Focus Example");

        // Tree ìƒì„±
        Tree tree = new Tree(shell, SWT.BORDER);
        tree.setBounds(10, 10, 360, 240);

        // TreeItem ìƒì„±
        TreeItem root = new TreeItem(tree, SWT.NONE);
        root.setText("Root");
        for (int i = 1; i <= 10; i++) {
            TreeItem child = new TreeItem(root, SWT.NONE);
            child.setText("Child " + i);
        }
        root.setExpanded(true); // Rootë¥¼ í™•ì¥í•˜ì—¬ ìì‹ í•­ëª© í‘œì‹œ

        // íŠ¹ì • TreeItemìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
        Display.getDefault().timerExec(2000, () -> {
            TreeItem targetItem = root.getItem(5); // "Child 6" ì„ íƒ
            if (targetItem != null) {
                tree.setSelection(new TreeItem[] { targetItem }); // í•­ëª© ì„ íƒ
                tree.showItem(targetItem); // ìŠ¤í¬ë¡¤ë¡œ í•´ë‹¹ í•­ëª© í‘œì‹œ
                System.out.println("Focused on: " + targetItem.getText());
            }
        });

        shell.open();
        while (!shell.isDisposed()) {
            if (!display.readAndDispatch()) {
                display.sleep();
            }
        }
        display.dispose();
    }
}


--

treeViewer.setSelection(new StructuredSelection(yourTargetObject), true);

--


import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.events.ShellAdapter;
import org.eclipse.swt.events.ShellEvent;

public class ShellCloseExample {
    public static void main(String[] args) {
        // Display ë° Shell ìƒì„±
        Display display = new Display();
        Shell shell = new Shell(display);
        shell.setText("Shell Close Example");
        shell.setSize(300, 200);

        // ShellListener ì¶”ê°€
        shell.addShellListener(new ShellAdapter() {
            @Override
            public void shellClosed(ShellEvent e) {
                // ì‚¬ìš©ì ì°½ ë‹«ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬
                System.out.println("X ë²„íŠ¼ì´ ëˆŒë ¸ìŠµë‹ˆë‹¤.");

                // ì°½ ë‹«ê¸° ì¤‘ë‹¨ (í•„ìš”ì‹œ)
                boolean allowClose = askUserForConfirmation();
                if (!allowClose) {
                    e.doit = false; // ì°½ ë‹«ê¸° ì·¨ì†Œ
                }
            }
        });

        // Shell ì—´ê¸°
        shell.open();
        while (!shell.isDisposed()) {
            if (!display.readAndDispatch()) {
                display.sleep();
            }
        }
        display.dispose();
    }

    // ì‚¬ìš©ì í™•ì¸ì„ ìœ„í•œ ë©”ì„œë“œ
    private static boolean askUserForConfirmation() {
        // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” Dialogë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ í™•ì¸ ìš”ì²­ ê°€ëŠ¥
        System.out.println("ì°½ì„ ë‹«ìœ¼ì‹œê² ìŠµë‹ˆê¹Œ? (ê¸°ë³¸ì ìœ¼ë¡œ true)");
        return true; // ê¸°ë³¸ì ìœ¼ë¡œ ë‹«ê¸° í—ˆìš©
    }
}


